{% extends 'tracker/base.html' %}

{% block content %}
<div class="dashboard-actions">
  <a href="{% url 'add_expense' %}" class="btn">âž• Add Expense</a>
  <a href="{% url 'category_chart' %}" class="btn">ðŸ“Š View Category-Wise Chart</a>
</div>

<h2>Total: â‚¹{{ total }}</h2>

{% if expenses %}
<table class="expense-table">
  <thead>
    <tr>
      <th>Title</th>
      <th>Amount</th>
      <th>Category</th>
      <th>Date</th>
      <th>Group</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for expense in expenses %}
    <tr>
      <td>{{ expense.title }}</td>
      <td>â‚¹{{ expense.amount }}</td>
      <td>{{ expense.category }}</td>
      <td>{{ expense.date }}</td>
      <td>
        {% if expense.group %}
          <span style="color:gray;">{{ expense.group.name }}</span>
        {% else %}
          â€”
        {% endif %}
      </td>
      <td>
        <a href="{% url 'edit_expense' expense.pk %}">Edit</a> |
        <a href="{% url 'delete_expense' expense.pk %}">Delete</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
  <p>No expenses recorded yet. Start by <a href="{% url 'add_expense' %}">adding one</a>.</p>
{% endif %}
{% endblock %}